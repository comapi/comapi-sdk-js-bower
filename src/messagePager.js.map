{"version":3,"file":"messagePager.js","sourceRoot":"","sources":["../src/messagePager.ts"],"names":["MessagePager","MessagePager.constructor","MessagePager.getMessages","MessagePager.getOrphanedEvents","MessagePager.markMessagesAsDelivered","MessagePager.resetConversation","MessagePager.applyOrphanedEvents","MessagePager.playEvent","MessagePager.mapOrphanedEvent"],"mappings":"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"}