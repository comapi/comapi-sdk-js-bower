{"version":3,"file":"messagePager.js","sourceRoot":"","sources":["../src/messagePager.ts"],"names":["MessagePager","MessagePager.constructor","MessagePager.getMessages","MessagePager.markMessagesAsDelivered","MessagePager.mergeOrphanedEvents","MessagePager.applyOrphanedEvents","MessagePager.playEvent","MessagePager.mapOrphanedEvent","MessagePager.resetConversation"],"mappings":"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"}